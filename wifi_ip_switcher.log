2025-07-23 12:36:31,595 - [INTERFACE] Detected Wi-Fi interface name: Wi-Fi
2025-07-23 12:36:31,599 - === Wi-Fi Auto IP Switcher Application Started ===
2025-07-23 12:36:31,602 - [MAIN] Not running as admin. Relaunching...
2025-07-23 12:36:31,603 - [ADMIN] Requesting Admin privileges...
2025-07-23 12:36:34,090 - [INTERFACE] Detected Wi-Fi interface name: Wi-Fi
2025-07-23 12:36:34,092 - === Wi-Fi Auto IP Switcher Application Started ===
2025-07-23 12:36:34,095 - [MAIN] Running with administrative privileges.
2025-07-23 12:36:34,095 - [FLASK] Starting Flask app on http://127.0.0.1:5000/
2025-07-23 12:36:34,095 - [MAIN] Flask thread started.
2025-07-23 12:36:34,095 - [MONITOR] Starting SSID monitoring loop.
2025-07-23 12:36:34,095 - [MAIN] Monitor thread started.
2025-07-23 12:36:34,097 - [TRAY] Attempting to start system tray icon...
2025-07-23 12:36:34,097 - [MAIN] Tray thread started.
2025-07-23 12:36:34,122 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 12:36:34,123 - [33mPress CTRL+C to quit[0m
2025-07-23 12:36:34,235 - [TRAY] Successfully loaded icon from V:\PlayGround\wifi_switcher\wifi_ip_switcher.ico
2025-07-23 12:36:34,236 - [TRAY] Creating pystray Icon instance with name 'WiFiIPSwitcher'...
2025-07-23 12:36:34,236 - [TRAY] Calling tray_icon.run(). This will block the thread until icon is stopped.
2025-07-23 12:36:34,249 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:36:34,249 - [MONITOR] SSID change detected. Old: 'None', New: 'Dhanus'
2025-07-23 12:36:34,374 - [MONITOR] SSID 'Dhanus' (or no SSID) not in config. Ensuring DHCP is enabled.
2025-07-23 12:36:34,374 - [NETWORK] Attempting to set DHCP for Wi-Fi
2025-07-23 12:36:34,490 - Netsh command failed: ['netsh', 'interface', 'ip', 'set', 'address', 'Wi-Fi', 'dhcp'] - Error: 
2025-07-23 12:36:34,491 - [NETWORK] Switching to DHCP failed for Wi-Fi. Check logs for details.
2025-07-23 12:36:34,491 - [MONITOR] Exception in monitor_ssid_loop: name 'messagebox' is not defined
Traceback (most recent call last):
  File "V:\PlayGround\wifi_switcher\app.py", line 217, in monitor_ssid_loop
    set_dhcp_ip(interface_name)
  File "V:\PlayGround\wifi_switcher\app.py", line 147, in set_dhcp_ip
    messagebox.showerror("IP Configuration Error", "Failed to set DHCP. Please check log file for details and ensure you have admin privileges.")
NameError: name 'messagebox' is not defined
2025-07-23 12:36:36,110 - [MAIN] Config file not found or empty, opening browser for initial setup.
2025-07-23 12:36:36,111 - [BROWSER] Opening browser to http://127.0.0.1:5000/
2025-07-23 12:36:36,257 - [MAIN] Main thread waiting for other threads to finish (should run indefinitely).
2025-07-23 12:36:36,396 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:36:36,403 - 127.0.0.1 - - [23/Jul/2025 12:36:36] "GET / HTTP/1.1" 200 -
2025-07-23 12:36:36,474 - 127.0.0.1 - - [23/Jul/2025 12:36:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 12:36:39,673 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:36:44,863 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:36:50,064 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:36:55,262 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:00,444 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:05,633 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:10,828 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:16,009 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:21,198 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:26,388 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:31,584 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:34,322 - [CONFIG] Config file not found, returning empty config.
2025-07-23 12:37:34,334 - [CONFIG] Configuration saved successfully.
2025-07-23 12:37:34,335 - [WEB] Config saved (overwritten) for SSID: periyar_univ_2
2025-07-23 12:37:34,336 - 127.0.0.1 - - [23/Jul/2025 12:37:34] "[32mPOST /submit HTTP/1.1[0m" 302 -
2025-07-23 12:37:34,345 - 127.0.0.1 - - [23/Jul/2025 12:37:34] "GET /apply_config HTTP/1.1" 200 -
2025-07-23 12:37:36,769 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:37:41,966 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:37:47,170 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:37:47,171 - [MONITOR] SSID change detected. Old: 'Dhanus', New: 'periyar_univ_2'
2025-07-23 12:37:47,310 - [MONITOR] SSID 'periyar_univ_2' detected and has a configured static IP. Applying config.
2025-07-23 12:37:47,310 - [NETWORK] Attempting to set static IP for Wi-Fi: 172.122.12.2
2025-07-23 12:37:47,428 - Netsh command failed: ['netsh', 'interface', 'ip', 'set', 'address', 'Wi-Fi', 'static', '172.122.12.2', '171.25.255.252', '255.255.2.2'] - Error: 
2025-07-23 12:37:47,429 - [NETWORK] Static IP failed for Wi-Fi. Check logs for details.
2025-07-23 12:37:47,429 - [MONITOR] Exception in monitor_ssid_loop: name 'messagebox' is not defined
Traceback (most recent call last):
  File "V:\PlayGround\wifi_switcher\app.py", line 198, in monitor_ssid_loop
    set_static_ip(
  File "V:\PlayGround\wifi_switcher\app.py", line 133, in set_static_ip
    messagebox.showerror("IP Configuration Error", "Failed to set static IP. Please check log file for details and ensure you have admin privileges.")
NameError: name 'messagebox' is not defined
2025-07-23 12:37:52,625 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:37:57,861 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:03,063 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:08,283 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:08,283 - [MONITOR] SSID change detected. Old: 'periyar_univ_2', New: 'Dhanus'
2025-07-23 12:38:08,460 - [MONITOR] SSID 'Dhanus' (or no SSID) not in config. Ensuring DHCP is enabled.
2025-07-23 12:38:08,460 - [NETWORK] Attempting to set DHCP for Wi-Fi
2025-07-23 12:38:08,663 - Netsh command failed: ['netsh', 'interface', 'ip', 'set', 'address', 'Wi-Fi', 'dhcp'] - Error: 
2025-07-23 12:38:08,664 - [NETWORK] Switching to DHCP failed for Wi-Fi. Check logs for details.
2025-07-23 12:38:08,664 - [MONITOR] Exception in monitor_ssid_loop: name 'messagebox' is not defined
Traceback (most recent call last):
  File "V:\PlayGround\wifi_switcher\app.py", line 217, in monitor_ssid_loop
    set_dhcp_ip(interface_name)
  File "V:\PlayGround\wifi_switcher\app.py", line 147, in set_dhcp_ip
    messagebox.showerror("IP Configuration Error", "Failed to set DHCP. Please check log file for details and ensure you have admin privileges.")
NameError: name 'messagebox' is not defined
2025-07-23 12:38:13,856 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:19,049 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:24,246 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:29,439 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:34,627 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:39,829 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:45,022 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:50,203 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:38:55,398 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:00,594 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:05,777 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:10,998 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:16,165 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:21,313 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:26,447 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:31,589 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:36,731 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:41,920 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:47,120 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:52,295 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:39:57,459 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:40:02,646 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:40:07,793 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:40:12,938 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:40:18,082 - [CONFIG] Configuration loaded successfully.
2025-07-23 12:40:19,047 - [TRAY] 'Quit' clicked. Initiating application shutdown.
2025-07-23 12:40:19,047 - [TRAY] pystray icon stopped.
